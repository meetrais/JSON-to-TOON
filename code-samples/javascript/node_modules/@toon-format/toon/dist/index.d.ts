//#region src/constants.d.ts

declare const DELIMITERS: {
  readonly comma: ",";
  readonly tab: "	";
  readonly pipe: "|";
};
type DelimiterKey = keyof typeof DELIMITERS;
type Delimiter = typeof DELIMITERS[DelimiterKey];
declare const DEFAULT_DELIMITER: Delimiter;
//#endregion
//#region src/types.d.ts
type JsonPrimitive = string | number | boolean | null;
type JsonObject = { [Key in string]: JsonValue } & { [Key in string]?: JsonValue | undefined };
type JsonArray = JsonValue[] | readonly JsonValue[];
type JsonValue = JsonPrimitive | JsonObject | JsonArray;
interface EncodeOptions {
  /**
  * Number of spaces per indentation level.
  * @default 2
  */
  indent?: number;
  /**
  * Delimiter to use for tabular array rows and inline primitive arrays.
  * @default DELIMITERS.comma
  */
  delimiter?: Delimiter;
  /**
  * Enable key folding to collapse single-key wrapper chains.
  * When set to 'safe', nested objects with single keys are collapsed into dotted paths
  * (e.g., data.metadata.items instead of nested indentation).
  * @default 'off'
  */
  keyFolding?: "off" | "safe";
  /**
  * Maximum number of segments to fold when keyFolding is enabled.
  * Controls how deep the folding can go in single-key chains.
  * Values 0 or 1 have no practical effect (treated as effectively disabled).
  * @default Infinity
  */
  flattenDepth?: number;
}
type ResolvedEncodeOptions = Readonly<Required<EncodeOptions>>;
interface DecodeOptions {
  /**
  * Number of spaces per indentation level.
  * @default 2
  */
  indent?: number;
  /**
  * When true, enforce strict validation of array lengths and tabular row counts.
  * @default true
  */
  strict?: boolean;
  /**
  * Enable path expansion to reconstruct dotted keys into nested objects.
  * When set to 'safe', keys containing dots are expanded into nested structures
  * if all segments are valid identifiers (e.g., data.metadata.items becomes nested objects).
  * Pairs with keyFolding='safe' for lossless round-trips.
  * @default 'off'
  */
  expandPaths?: "off" | "safe";
}
type ResolvedDecodeOptions = Readonly<Required<DecodeOptions>>;
//#endregion
//#region src/index.d.ts
/**
* Encodes a JavaScript value into TOON format string.
*
* @param input - Any JavaScript value (objects, arrays, primitives)
* @param options - Optional encoding configuration
* @returns TOON formatted string
*
* @example
* ```ts
* encode({ name: 'Alice', age: 30 })
* // name: Alice
* // age: 30
*
* encode({ users: [{ id: 1 }, { id: 2 }] })
* // users[]:
* //   - id: 1
* //   - id: 2
*
* encode(data, { indent: 4, keyFolding: 'safe' })
* ```
*/
declare function encode(input: unknown, options?: EncodeOptions): string;
/**
* Decodes a TOON format string into a JavaScript value.
*
* @param input - TOON formatted string
* @param options - Optional decoding configuration
* @returns Parsed JavaScript value (object, array, or primitive)
*
* @example
* ```ts
* decode('name: Alice\nage: 30')
* // { name: 'Alice', age: 30 }
*
* decode('users[]:\n  - id: 1\n  - id: 2')
* // { users: [{ id: 1 }, { id: 2 }] }
*
* decode(toonString, { strict: false, expandPaths: 'safe' })
* ```
*/
declare function decode(input: string, options?: DecodeOptions): JsonValue;
//#endregion
export { DEFAULT_DELIMITER, DELIMITERS, type DecodeOptions, type Delimiter, type DelimiterKey, type EncodeOptions, type JsonArray, type JsonObject, type JsonPrimitive, type JsonValue, type ResolvedDecodeOptions, type ResolvedEncodeOptions, decode, encode };